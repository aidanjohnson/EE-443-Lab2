			.def _xcorr

_xcorr:			 	    	;cross correlation
			ZERO A0			;stores each product
			MV A6,A0		;N samples counter
			MV B6,B0		;k coefficient counter

corr:
			MPY A4,B4,A0	;multiplies in1 and in2 at n and n+k
			ADD A8,A0,A8


sum:						;correlation summation

			SUB A0,1,A0		;decrements samples counter

	[A0]    B sum

			SUB B0,1,B0		;decrements coefficient counter

	[B0]    B	corr
